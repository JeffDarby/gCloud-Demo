<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' 'unsafe-inline' https://apps.mypurecloud.com.au;
        style-src 'self' 'unsafe-inline';
        img-src 'self' https://apps.mypurecloud.com.au;
        connect-src 'self' https://api-cdn.mypurecloud.com.au https://api.mypurecloud.com.au wss://webmessaging.mypurecloud.com.au;
        frame-src 'self' https://apps.mypurecloud.com.au;
    ">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Genesys Cloud Testing</title>
        <script type="text/javascript" charset="utf-8">
        // Load Genesys with default or stored deploymentId
        function loadGenesysScript(deploymentId) {
            (function (g, e, n, es, ys) {
                g['_genesysJs'] = e;
                g[e] = g[e] || function () {
                    (g[e].q = g[e].q || []).push(arguments);
                };
                g[e].t = 1 * new Date();
                g[e].c = es;
                ys = document.createElement('script');
                ys.async = 1;
                ys.src = n;
                ys.charset = 'utf-8';
                document.head.appendChild(ys);
            })(window, 'Genesys', 'https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js', {
                environment: 'prod-apse2',
                deploymentId: deploymentId
            });
        }
        </script>
</head>
<body>
    <header>
        <h1>Welcome to the Genesys Cloud Messaging Test page</h1>
    </header>
    <nav>
        <!-- Navigation links go here -->
    </nav>
    <main>
        <select id="deploymentPicker">
            <option value="3baf8b66-380f-48b1-87b5-628c852cda3a">Budget Direct (Default)</option>
            <option value="da42e5a4-9e09-4933-9d3e-b646832d2e8e">ING</option>
            <option value="3faecfdb-0a2c-4e03-a961-1fffd286fe96">1st for Women</option>
            <option value="0899f0e1-6076-4500-8849-3818bd6212e2">Best Buy</option>
            <option value="de8bc2b5-1d24-4692-837e-8a18f82f80d8">Oceania</option>
            <option value="9887c549-55e1-465d-9cc8-8d5bd3a89f47">Omega</option>
            <option value="d0f3bf9f-5e12-4811-8794-128fc656fccd">OziCare</option>
            <option value="ece1ac35-7065-42a5-988c-bf7a4e3f2b01">PetHealth</option>
            <option value="b9139d81-b68c-49f9-bfe0-18123492c011">QANTAS</option>
            <option value="6e902bb5-fa8e-49c0-a155-5d52628b2e4e">RetireEase</option>
            <option value="0860d14b-1b65-45df-956b-715a7f84016b">Virgin Money</option>
        </select>
        <button onclick="changeDeploymentId()">Apply Changes</button>
        <p>Please Refresh after applying changes to load the new brand.</p>
    </main>
    <footer>
        <!-- Footer content goes here -->
    </footer>

    <script type="text/javascript" charset="utf-8">
        // Load Genesys with default or stored deploymentId
        // function loadGenesysScript(deploymentId) {
        //     (function (g, e, n, es, ys) {
        //         g['_genesysJs'] = e;
        //         g[e] = g[e] || function () {
        //             (g[e].q = g[e].q || []).push(arguments);
        //         };
        //         g[e].t = 1 * new Date();
        //         g[e].c = es;
        //         ys = document.createElement('script');
        //         ys.async = 1;
        //         ys.src = n;
        //         ys.charset = 'utf-8';
        //         document.head.appendChild(ys);
        //     })(window, 'Genesys', 'https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js', {
        //         environment: 'prod-apse2',
        //         deploymentId: deploymentId
        //     });
        // }

        // Change the deploymentId based on selection
        function changeDeploymentId() {
            const deploymentPicker = document.getElementById('deploymentPicker');
            const selectedDeploymentId = deploymentPicker.value;
            localStorage.setItem('selectedDeploymentId', selectedDeploymentId);
            loadGenesysScript(selectedDeploymentId);
        }

        // Load initial deployment ID or set to default on page load
        window.onload = function() {
            const deploymentPicker = document.getElementById('deploymentPicker');
            const storedDeploymentId = localStorage.getItem('selectedDeploymentId') || '3baf8b66-380f-48b1-87b5-628c852cda3a';
            deploymentPicker.value = storedDeploymentId;
            loadGenesysScript(storedDeploymentId);
        };
    </script>
</body>
</html>
